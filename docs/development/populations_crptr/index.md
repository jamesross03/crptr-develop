# Development with populations_crptr
The `populations_crptr` package was developed by [Tom Dalton](https://github.com/tomsdalton) as an extension of the original [`Crptr`](../crptr/index.md) tool, for use with synthetic population datasets. While this package is designed for use with Tom's *TD* record format (as generated by the accompanying [Valipop synthetic population generator](https://github.com/stacs-srg/valipop/)), it can easily be modified to work with different record formats.

For a basic guide on corrupting populations data, see the [example population corruptor guide](../../usage/population_corruptor_guide.md).

## Overview of structure
The following is a brief overview of the structure of the `populations_crptr` package, to get you started in your development.

### [`populations_crptr.population_corruptor.py`](../../../src/main/python/populations_crptr/population_corruptor.py)
The example population corruptor provides a simple CLI front-end for corruption of a directory of records (containing "birth_records.csv", "marriage_records.csv" and "death_records.csv") in *TD* format. For usage details, see the [example population corruptor guide](../../usage/population_corruptor_guide.md).

### [`populations_crptr.config.py`](../../../src/main/python/populations_crptr/config.py)
The Config class is used to configure different options for corruption, randomisation, and outputs for the corruptor. For details on the options included in this module, see the [configuration guide](../../usage/configuration.md).

### [`populations_crptr.utils.py`](../../../src/main/python/populations_crptr/utils.py)
The Utils module defines a number of common functions used by the package, for example handling input/output and parsing CSV data into the dict formatted expected by `Crptr`.

### [`populations_crptr.corruptor_definitions`](../../../src/main/python/populations_crptr/corruptor_definitions/)
This package defines specific Corruptor classes for corrupting different types of record (e.g birth, marriage, death), ensuring that ground-truth fields in each remain intact.

### [`populations_crptr.example_corruptors`](../../../src/main/python/populations_crptr/example_corruptors/)
This package defines two Corruptor implementations for corrupting a directory of records (containing "birth_records.csv", "marriage_records.csv" and "death_records.csv"), making use of the classes defined in `corruptor_definitions`. This package contains two different implementations, one for standard corruption and one for OCR-transcription corruption.

### [`populations_crptr.example_profiles`](../../../src/main/python/populations_crptr/example_profiles/)
This package contains a series of 'profile' classes, which are used by the example population corruptor to set different parameters for rates and degrees of corruption. Three example profiles are provided (as defined in [Tom Dalton's thesis, 7.4.2](https://research-repository.st-andrews.ac.uk/bitstream/handle/10023/26784/Thesis-Tom-Dalton-complete-version.pdf?sequence=4&isAllowed=y)). For details on how to select these, see the [configuration guide](../../usage/configuration.md) and for more information on profiles see the [profiles reference guide](../../usage/profiles.md).
